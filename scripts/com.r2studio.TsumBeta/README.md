# TsumTsum script
This is the successor of the script [`com.r2studio.Tsum`](https://github.com/r2-studio/robotmon-scripts/tree/master/scripts/com.r2studio.Tsum).  

## Script description

This script automates the following tasks:
- Receiving items from the mailbox
- Sending hearts to your friends
- Playing the game
- Unlocking Tsum levels
- Buying pickup capsules and select / premium boxes


## Settings

The script has various settings. Here is a brief description of every setting.

| Setting                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|:-----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Language                           | Changes the language in which the script settings are shown.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Japan Version?                     | Activates special behaviour for the JP version of Tsum Tsum.<br>This setting is used to decide if the JP or Int'l version is started when "Auto Launch Tsum App" is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Special Screen Ratio (Long Screen) | If the script does not do the expected actions like sending/receiving hearts, give this setting a shot. <br>Some smartphones with long displays render black areas over and under the game screen itself. If these areas have different vertical sizing, this setting is needed. Beware that it does not work together with "Auto Launch Tsum App" as the game must already be running when starting the script with this setting enabled.                                                                                                                                                                                                                                               |
| Auto Launch Tsum App               | This starts the Tsum Tsum game as soon as this script is started. Should only be used if "Special Screen Ratio" is disabled. Depending on the used device, this might or might not work. Successfully tested within LDPlayer 5.0.11 on different screen resolutions.                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Auto buy boxes                     | This will attempt to buy the amount of boxes you entered once. Setting it to "30" and then starting the script will navigate to the Tsum Tsum Store and then buy 30 of either Premium or Select boxes / Capsules, depending if there are 2 or 3 box types available.<br>This setting is not persisted, so if you close the script (I mean "close", not "pause/stop"!), then on the next script load the setting will be 0 again.<br>***Warning:*** Tested for select boxes, pickup capsules and premium boxes, with and without mission bar on the bottom of the store. Any other store events might lead to non-deterministic behaviour. Stay near the script while using this feature. |
| Auto Play Game                     | If enabled, the script will play games when no other tasks need to be done. Receiving and sending hearts has priority, so if these tasks are configured to be performed very often, the script might never play a single game.<br>***Warning:*** this can affect system stability if the script runs for many many hours. If the game or the used emulator crashes frequently, try disabling auto play.                                                                                                                                                                                                                                                                                  |
| Pause When Calculating             | After every screenshot within a running game, the game will pause for detecting current Tsum placement. As entering and leaving the pause page takes quite long, this should probably always stay disabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Clear Bubbles                      | Every once in a while, the game will clear bubbles from the screen by quickly tapping on every possible spot.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Use Fan?                           | After some Tsum removals, the fan is used to shake the remaining Tsums around. Try yourself how that affects the game results as different people have different opinions about this setting.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| +Score                             | Play the game with active +Score bonus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| +Coin                              | Play the game with active +Coin bonus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| +Exp                               | Play the game with active +Exp bonus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| +Time                              | Play the game with active +Time bonus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| +Bubble                            | Play the game with active +Bubble bonus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 5>4                                | Play the game with active 5>4 bonus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| +Combo                             | Play the game with active +Combo bonus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Skill Waiting time                 | After the script activates a skill, it will wait for these amount of seconds until it continues playing the game. While in general a value like "1" does not hurt, it makes sense to choose a value which matches closely the skill effect duration if "Clear Bubbles" is enabled.                                                                                                                                                                                                                                                                                                                                                                                                       |
| Skill Level                        | This actually only does have an effect if the selected Skill Type is "Cinderella". Might support other Tsums in the future.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Skill Type                         | The skill type which the script will perform.<br>`Burst` is the general purpose skill which will just wait for the duration of "Skill Waiting time" and then continue.<br>`Pair Tsum` behaves like "Burst", but activates any skill as soon as one is ready to be activated.<br>`No Skill` never activates a skill (if you want to click it yourself).<br>The other skills named after Tsums are optimized for these Tsums.                                                                                                                                                                                                                                                              |
| No skill last fever seconds        | Setting this to a value height than 0, the script won't trigger the Tsum's skill if there is currently fever active which approximately ends within X seconds, while "X" is the value you configured here. Can be useful to max out fever times per game.                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Unlock Level every hours           | A value of for example 3 will check every 3 hours if any Tsums have reached their Level lock. if so, the script will unlock them (attention: consumes coins). 0 disables this feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Receive All Hearts                 | Will Receive hearts by clicking the "Claim All" button. This is fast, but not very nice to others because "Unknown" senders won't get hearts back from you. Check the setting "Receive Hearts One By One" if you care about your Unknown friends.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Waiting time (min) before repeat   | The frequency how often the "Claim All" button will be used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Receive Hearts One By One          | This will process every message in your mailbox one after another. While this might seem waste of time compared to the "Claim All" button, Claiming every heart one by one also sends a heart back to the sender, even if it is an Unknown person you don't have in your friends list. Fetching hearts this may might encourage Unknown players to also send you hearts (and coins) in the future as they als get a heart from you.                                                                                                                                                                                                                                                      |
| Skip first person                  | Always ignores the first message when claiming hearts one by one. Useful if you live in a country where the first message is an Ad which causes problems for you.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Skip ruby                          | Won't open messages which contain rubies.<br>Enable if your main playing device is an Apple phone but your sender runs on an Android phone, as rubies are not shared between Apple and Android versions of the game.<br>If you only own Android devices, leave this off.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Claim All old mails                | Retrieves all heart mails containing coins one by one until heart mails contain no coins anymore. Starts then collecting again until heart mails don't contain hearts within 5 mails. Then clicks "Claim All"                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Max Times to Open Mailbox          | Maximum amount of consecutive mailbox openings until the next task (send hearts / play game) will be started. The task ends before "max times" if on one opening the mailbox is still empty.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Waiting time before repeat         | The mailbox won't be opened again for so many minutes after it has been emptied successfully or "Max Times" was reached.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Record Sender                      | Generates statistics of every (known) heart sender how many hearts they send you on which day. <br>***Warning:*** While this can be super interesting from time to time, don't use it regularly when you must leave the script alone, as this setting significantly increases the probability of system crashes. You have been warned ;-)                                                                                                                                                                                                                                                                                                                                                |
| Enlarge Sender's Image (Emulator)  | Enable when "Record Sender" is used within an Android Emulator with a low display resolution (like 480x800 or 540x960), so the resulting screenshots become more human readable. Enabling this on a Full HD device will lead to very large screenshots.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Auto Send Hearts                   | Enabling this lets the script regularly send hearts to your friends list.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Send to 0 score                    | If enabled, the script will send hearts even to players without a score. Useful if these are auto-senders who receive every heart one by one, waste of time if these friends are really not playing anymore.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Max run time                       | Limits the amount of time where you're sending hearts to friends. Useful if you have lots of friends (400+) and don't want to miss coins on incoming heart messages. <br>Might not work as expected if "Auto Play Game" is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Waiting time (min) before repeat   | Same as above, just for heart sending instead of receiving.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| URL to Tsum Monitor                | If you have the "Tsum Monitor" running somewhere, enter the url to it here in the format "http://192.168.56.1:8888". This will regularly call the monitor so it knows that the script is still alive. Leave this empty if you don't know what that means at all.                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

### Developer options

Clicking 10 times on the "Build date" will open additional settings. These aren't useful for normal usage but might 
be helpful when troubleshooting.

| Setting    | Description                                                                                                                             |
|:-----------|:----------------------------------------------------------------------------------------------------------------------------------------|
| Debug logs | Adds more details to the logging output.                                                                                                |
| Debug game | Saves screenshots while playing the game with different color transformations used by the script. Really not useful for non-developers. |


## Roadmap

See the [Changelog](CHANGELOG.md) for previous and upcoming changes.
